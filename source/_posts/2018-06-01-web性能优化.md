title: web性能极致优化策略
date: 2018-06-01 20:20:13
tags:
  - web
---

# web性能极致优化

## 避免使用重定向
  在最好的情况下，每个重定向都会添加一次往返（HTTP 请求-响应）；而在最坏的情况下，除了额外的 HTTP 请求-响应周期外，它还可能会让更多次的往返执行 DNS 查找、TCP 握手和 TLS 协商
  * example.com 使用自适应网页设计，无需任何重定向 - 快速且理想！
  * example.com → m.example.com/home - 会导致移动设备用户遭遇多次往返。
  * example.com → www.example.com → m.example.com - 移动浏览体验非常缓慢
## 启用压缩功能-gzip
## 缩短服务器响应时间
  * 将服务器的接口响应时间控制在200ms以内
  * 剔除掉无用的响应数据
## 使用浏览器缓存策略
  * [Cache-Control](https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching#cache-control) 指定了浏览器和其他中间缓存可如何缓存单项响应以及可缓存多长时间
  * [ETag](https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching#validating-cached-responses-with-etags) 提供了一个重新验证令牌，该令牌是由浏览器自动发送的，用于检查自上次请求相应资源后该资源是否发生了变化
## 缩减资源大小(html、js、css)
## 优化图片大小
## 优化css发送过程
  * 内嵌较小 CSS 文件
  * 请勿内嵌较大数据 URl
  * 请勿内嵌 CSS 属性(`导致代码重复`)
## 优先加载可见内容
## 移除会阻止内容展示的javascript
  * 尽量不在头部添加外部脚本,可少量内嵌脚本
  * 将javascript设为异步加载
  * 按需加载javascript
## 使用[http2](https://developers.google.com/web/fundamentals/performance/http2/)

参考:

* [web性能检测工具](https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fb.pingan.com.cn%2Faum%2Fmobile%2Findex.html)
* [google优化参考](https://developers.google.com/speed/docs/insights/LeverageBrowserCaching)
  使用网络传输性能检测工具——Page Speed
* [web优化](https://juejin.im/post/5b0b7d74518825158e173a0c)
* [Web性能优化-首屏和白屏时间](https://lz5z.com/Web%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E9%A6%96%E5%B1%8F%E5%92%8C%E7%99%BD%E5%B1%8F%E6%97%B6%E9%97%B4/)
